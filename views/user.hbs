<div class="dashbored">
    <header>
        <!-- <div>
        <button type="button" class="btn" data-toggle="modal" data-target="#preferencesModal">Preferences</button>
    </div> -->
        <div class="modal fade" id="preferencesModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>

                        <h4 class="modal-title" id="myModalLabel">DashBored</h4>
                    </div>
                    <div class="modal-body">
                        <form action="/users/{{userInfo.user_id}}" method="post">
                            <fieldset class="form-group">
                                <legend>Username</legend>
                                <label for="username">{{userInfo.username}}</label>
                            </fieldset>
                            <fieldset class="form-group">
                                <legend>Preferences</legend>
                                <div class="row">
                                    <div class="form-group">
                                        <label for="news">News</label>
                                        <input type="checkbox" name="1" checked>
                                    </div>
                                    <div class="form-group">
                                        <label for="events">Events</label>
                                        <input type="checkbox" name="4" checked>
                                    </div>
                                    <div class="form-group">
                                        <label for="places">Places</label>
                                        <input type="checkbox" name="5" checked>
                                    </div>
                                </div>
                            </fieldset>
                            <div class="error-container">
                            </div>
                            <fieldset>
                                <button id="register-submit" type="submit" class="btn btn-primary">Submit</button>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="logo">
            <span id="jumbo-text">DASH<b>bored<b></span>
        </div>
    </header>

    <main>
        <div class="row info-squares">
            <div id="module" class="jumbotron" data-prefID="1">

                <nav>
                    <h1>NEWS</h1>
                    <img src="http://www.iconarchive.com/download/i75805/martz90/circle/bbc-news.ico" class="modules-logo">
                </nav>
                <div class="btn-container">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-warning btn-lg" data-toggle="modal" data-target="#newsModal">See Headlines</button>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="newsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">

                    <div class="modal-content">

                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <nav class="modal-title" id="newsModalLabel">
                                <h2>News</h2><img src="http://i.newsapi.org/bbc-news-m.png" class="modules-logo">
                            </nav>
                        </div>

                        <div class="modal-body">
                            <div id="news-info"></div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>
                        </div>

                    </div>

                </div>
            </div>
            <div id="module" class="jumbotron" data-prefID="4">

                <nav>
                    <h1>EVENTS</h1>
                    <img src="http://www.iconarchive.com/download/i99272/froyoshark/enkel/Calendar.ico" class="modules-logo">
                </nav>
                <div class="btn-container">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-warning btn-lg" data-toggle="modal" data-target="#eventModal">See Events</button>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="eventModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">

                    <div class="modal-content">

                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <nav class="modal-title" id="eventModalLabel">
                                <h2>Events</h2><img src="http://www.iconarchive.com/download/i99272/froyoshark/enkel/Calendar.ico" class="modules-logo">

                            </nav>
                        </div>

                        <div class="modal-body">
                            <div id="event-info"></div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>
                        </div>

                    </div>

                </div>
            </div>



            <!-- MAPS MODULE -->

            <div id="module" class="jumbotron" data-prefID="5">

                <nav>
                    <h1>MAPS</h1>
                    <img src="http://findicons.com/files/icons/98/nx11/256/internet_real.png" class="modules-logo">
                </nav>
                <div class="btn-container">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-warning btn-lg" data-toggle="modal" data-target="#mapsModal">What's Around Me?</button>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="mapsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">

                    <div class="modal-content">

                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <nav class="modal-title" id="mapsModalLabel">
                                <h2>Maps</h2><img src="http://findicons.com/files/icons/98/nx11/256/internet_real.png" class="modules-logo">
                            </nav>
                        </div>

                        <div class="modal-body">
                            <div id="map-info"></div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>
                        </div>

                    </div>

                </div>
            </div>




    </main>
    </div>
</div>
<footer class="footer">
    <div class="footer-container">
        <div class="footer-links">
            <ul>
                <li><a href="#">Logout</a></li>
                <li><a href="#">Sign up</a></li>
                <li><a href="#">View Account</a></li>
                <li><a href="#">Edit Preferences</a></li>
            </ul>
            <small>Respected Wizards &copy;</small>
        </div>
    </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>

<script>
    var preferences = {
            {
                {#
                    each userInfo
                }
            } {
                {
                    @index
                }
            }: {
                {
                    pref_type_id
                }
            },
            {
                {
                    /each}}
                }

                var prefArr = []
                for (key in preferences) {
                    prefArr.push(preferences[key])
                }


                $('*[data-prefID="1"]').hide();
                $('*[data-prefID="4"]').hide();
                $('*[data-prefID="5"]').hide();

                for (var i = 0; i < prefArr.length; i++) {
                    $(`*[data-prefID="${prefArr[i]}"`).toggle()
                }
</script>
